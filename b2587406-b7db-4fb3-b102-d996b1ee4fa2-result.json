{"name": "test_get[dfmfdsdfdddfsffddf]", "status": "broken", "statusDetails": {"message": "AttributeError: 'Department' object has no attribute '_params'", "trace": "self = <testcase.test_department.TestDepartment object at 0x000001EC1B5E31D0>\nuserid = 'dfmfdsdfdddfsffddf'\n\n    @allure.step('测试')\n    @pytest.mark.parametrize('userid',['dfmfdsdfdddfsffddf'])\n    def test_get(self,userid):\n        self.department.params['userid'] =userid\n    \n>       self.department.api_steps(self.data)\n\ntest_department.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\api\\baseapi.py:60: in api_steps\n    getattr(self, method)(**step)\n..\\api\\department.py:14: in magic\n    return base_api.api_send(req)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <api.department.Department object at 0x000001EC1B5E3278>\nreq = {'method': 'get', 'params': {'access_token': 'JfnU2Ttx1REEQZFoqCS_YST6Sg3Gg_tgNuiyWKMgqpyt9JDkAB7w8hGvTiZHlOHyUYRLYVgf...hb1NNkLXYEiZfDOzVJEDvO3vzr43UJmTWtAlfQ', 'userid': '${userid}'}, 'url': 'https://qyapi.weixin.qq.com/cgi-bin/user/get'}\n\n    def api_send(self, req: dict):\n        req['params']['access_token'] = self.get_token(self.secret)\n        # 模板替换\n        raw = yaml.dump(req)\n>       for key, value in self._params.items():\nE       AttributeError: 'Department' object has no attribute '_params'\n\n..\\api\\baseapi.py:34: AttributeError"}, "steps": [{"name": "测试", "status": "broken", "statusDetails": {"message": "AttributeError: 'Department' object has no attribute '_params'\n", "trace": "  File \"D:\\python\\lib\\site-packages\\allure_commons\\_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"H:\\练习\\test_reques_wework\\testcase\\test_department.py\", line 17, in test_get\n    self.department.api_steps(self.data)\n  File \"H:\\练习\\test_reques_wework\\api\\baseapi.py\", line 60, in api_steps\n    getattr(self, method)(**step)\n  File \"H:\\练习\\test_reques_wework\\api\\department.py\", line 14, in magic\n    return base_api.api_send(req)\n  File \"H:\\练习\\test_reques_wework\\api\\baseapi.py\", line 34, in api_send\n    for key, value in self._params.items():\n"}, "attachments": [{"source": "d447ac2f-e3ad-4312-9632-0c75f3c8d1de-attachment.attach"}], "parameters": [{"name": "userid", "value": "'dfmfdsdfdddfsffddf'"}], "start": 1634357212193, "stop": 1634357212497}], "attachments": [{"name": "log", "source": "b6b6a5f4-08e9-4f08-aedc-991faf39bfa2-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "userid", "value": "'dfmfdsdfdddfsffddf'"}], "start": 1634357212193, "stop": 1634357212497, "uuid": "f26bb055-57df-4f85-92b2-e14a864e5902", "historyId": "a058b37d5c12e354d9b3efef1ea538ee", "testCaseId": "dcccf3236d29225883a842a7b88face6", "fullName": "testcase.test_department.TestDepartment#test_get", "labels": [{"name": "parentSuite", "value": "testcase"}, {"name": "suite", "value": "test_department"}, {"name": "subSuite", "value": "TestDepartment"}, {"name": "host", "value": "PC-202008151337"}, {"name": "thread", "value": "11088-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_department"}]}